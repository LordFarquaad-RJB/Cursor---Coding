{"version":3,"file":"TrapSystem-v2.js","sources":["../src/trap-core.js","../src/trap-utils.js","../src/trap-detector.js","../src/index.js"],"sourcesContent":["// src/trap-core.js\n// Core configuration and state for TrapSystem v2\n\nexport const Config = {\n  DEBUG: false,\n  DEFAULT_GRID_SIZE: 70,\n  DEFAULT_SCALE: 5,\n  MIN_MOVEMENT_FACTOR: 0.3,\n  AURA_COLORS: {\n    ARMED: '#00ff00',\n    ARMED_INTERACTION: '#6aa84f',\n    DISARMED: '#ff0000',\n    DISARMED_INTERACTION: '#a61c00',\n    PAUSED: '#ffa500',\n    DETECTION: '#808080',\n    DETECTED: '#c0c0c0',\n    DISARMED_UNDETECTED: '#00008B',\n    DISARMED_DETECTED: '#A9A9A9',\n    DETECTION_OFF: '#222222',\n    PASSIVE_DISABLED: '#5b0f00'\n  },\n  SKILL_TYPES: {\n    'Flat Roll': 'ğŸ²',\n    Acrobatics: 'ğŸ¤¸',\n    'Animal Handling': 'ğŸ',\n    Arcana: 'âœ¨',\n    Athletics: 'ğŸ’ª',\n    Deception: 'ğŸ­',\n    History: 'ğŸ“š',\n    Insight: 'ğŸ‘ï¸',\n    Intimidation: 'ğŸ˜ ',\n    Investigation: 'ğŸ”',\n    Medicine: 'âš•ï¸',\n    Nature: 'ğŸŒ¿',\n    Perception: 'ğŸ‘€',\n    Performance: 'ğŸª',\n    Persuasion: 'ğŸ’¬',\n    Religion: 'â›ª',\n    'Sleight of Hand': 'ğŸ¯',\n    Stealth: 'ğŸ‘¥',\n    Survival: 'ğŸ•ï¸',\n    'Strength Check': 'ğŸ’ª',\n    'Strength Saving Throw': 'ğŸ›¡ï¸ğŸ’ª',\n    'Dexterity Check': 'ğŸ¤¸',\n    'Dexterity Saving Throw': 'ğŸ›¡ï¸ğŸ¤¸',\n    'Constitution Check': 'ğŸ‹ï¸',\n    'Constitution Saving Throw': 'ğŸ›¡ï¸ğŸ‹ï¸',\n    'Intelligence Check': 'ğŸ§ ',\n    'Intelligence Saving Throw': 'ğŸ›¡ï¸ğŸ§ ',\n    'Wisdom Check': 'ğŸ‘ï¸',\n    'Wisdom Saving Throw': 'ğŸ›¡ï¸ğŸ‘ï¸',\n    'Charisma Check': 'ğŸ’¬',\n    'Charisma Saving Throw': 'ğŸ›¡ï¸ğŸ’¬'\n  }\n};\n\n// Simple central state store (will be fleshed out later)\nexport const State = {\n  warnedInvalidGridPages: {}\n};\n\nexport const core = {\n  Config,\n  State\n};\n\nexport default core;","// src/trap-utils.js\n// Shared helper functions used across TrapSystem modules.\n// Initially contains only a subset (quick-win helpers) â€“ we will migrate\n// the rest of the giant utils object here piece-by-piece.\n\n/* eslint-disable no-console */\n\nimport { Config, State } from './trap-core.js';\n\nexport function log(message, type = 'info') {\n  const prefix = {\n    info: 'ğŸ“œ',\n    error: 'âŒ',\n    success: 'âœ…',\n    warning: 'âš ï¸',\n    debug: 'ğŸ”'\n  }[type] || 'ğŸ“œ';\n  console.log(`${prefix} TrapSystem: ${message}`);\n}\n\n// Quick-win utility #1 â€“ centralised trap-token validation\nexport function validateTrapToken(token, actionName = 'action') {\n  if (!token) {\n    log(`Error: No token supplied for ${actionName}.`, 'error');\n    return false;\n  }\n  if (!globalThis.TrapSystem || !globalThis.TrapSystem.utils || typeof globalThis.TrapSystem.utils.isTrap !== 'function') {\n    // During early bootstrap the monolith may not be loaded. We simply assume OK.\n    return true;\n  }\n  if (!globalThis.TrapSystem.utils.isTrap(token)) {\n    log(`Error: Selected token is not a trap. (${actionName})`, 'error');\n    return false;\n  }\n  return true;\n}\n\n// Quick-win utility #2 â€“ parameter length guard for chat commands\nexport function validateCommandArgs(args, minLength, commandName = 'command') {\n  if (args.length < minLength) {\n    log(`Error: Missing parameters for ${commandName}.`, 'error');\n    return false;\n  }\n  return true;\n}\n\nexport const TrapUtils = {\n  log,\n  validateTrapToken,\n  validateCommandArgs\n};\n\nexport default TrapUtils;\n\n// ------------------------------------------------------------------\n// Legacy util functions migrated from v1 (minimal initial subset)\n// ------------------------------------------------------------------\n\n// NOTE: These still rely on Roll20 API globals (getObj, sendChat, etc.) â€“\n// that is OK because after bundling they run inside the Roll-20 sandbox.\n\nexport function playerIsGM(playerId) {\n  const player = getObj && getObj('player', playerId);\n  if (!player) return false;\n  return player.get('_online') && player.get('_type') === 'player' && player.get('_isGM');\n}\n\nexport function chat(message) {\n  if (typeof message !== 'string') return;\n  sendChat('TrapSystem', `/w gm ${message}`);\n}\n\nexport function getGMPlayerIds() {\n  const allPlayers = findObjs ? findObjs({ _type: 'player' }) : [];\n  return allPlayers.filter(p => playerIsGM(p.id)).map(p => p.id);\n}\n\nexport function whisper(recipientId, message) {\n  if (!recipientId || !message) return;\n  // First assume playerId\n  const player = getObj && getObj('player', recipientId);\n  if (player) {\n    sendChat('TrapSystem', `/w \"${player.get('displayname')}\" ${message}`);\n    return;\n  }\n  // Maybe a token representing a character â†’ whisper to controllers.\n  const token = getObj && getObj('graphic', recipientId);\n  if (token && token.get('represents')) {\n    const char = getObj('character', token.get('represents'));\n    if (char) {\n      const controllers = (char.get('controlledby') || '').split(',').map(s => s.trim()).filter(Boolean);\n      controllers.forEach(pid => {\n        const p = getObj('player', pid);\n        if (p) sendChat('TrapSystem', `/w \"${p.get('displayname')}\" ${message}`);\n      });\n      return;\n    }\n  }\n  // Fallback to GM\n  chat(`Could not find a valid recipient for ID ${recipientId}. Msg: ${message}`);\n}\n\nexport function decodeHtml(text) {\n  if (typeof text !== 'string') return text;\n  return text\n    .replace(/&amp;/g, '&')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&quot;/g, '\"')\n    .replace(/&#39;/g, \"'\");\n}\n\n// Quick check to see if a token is a trap (based on gmnotes)\nexport function isTrap(token) {\n  if (!token) return false;\n  const notes = token.get ? token.get('gmnotes') : '';\n  if (!notes) return false;\n  let decoded = '';\n  try { decoded = decodeURIComponent(notes); } catch (e) { decoded = notes; }\n  return decoded.includes('!traptrigger');\n}\n\n// Utility for images (used by menus)\nexport function getTokenImageURL(token, size = 'med') {\n  if (!token) return 'ğŸ‘¤';\n  const sanitize = url => {\n    if (!url) return null;\n    let processed = url.replace(/(thumb|max)(?=\\.[^/]+$)/, size);\n    processed = processed.replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/'/g, '%27').replace(/\"/g, '%22');\n    return processed;\n  };\n  let img = token.get('imgsrc');\n  if (!img) {\n    const charId = token.get('represents');\n    if (charId) {\n      const char = getObj('character', charId);\n      if (char) {\n        img = char.get('avatar') || char.get('imgsrc');\n      }\n    }\n  }\n  const sanitized = sanitize(img);\n  return sanitized || 'ğŸ‘¤';\n}\n\n// Merge into export object\nObject.assign(TrapUtils, {\n  playerIsGM,\n  chat,\n  getGMPlayerIds,\n  whisper,\n  decodeHtml,\n  isTrap,\n  getTokenImageURL\n});\n\n// ------------------------------------------------------------------\n// Geometry helpers (migrated)\n// ------------------------------------------------------------------\n\nfunction lineIntersection(x1, y1, x2, y2, x3, y3, x4, y4) {\n  const denom = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n  if (!denom) return null;\n  const t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / denom;\n  const u = -((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3)) / denom;\n  if (t >= 0 && t <= 1 && u >= 0 && u <= 1) {\n    return { x: x1 + t * (x2 - x1), y: y1 + t * (y2 - y1) };\n  }\n  return null;\n}\n\nfunction getTokenCenter(token) {\n  return { x: token.get('left'), y: token.get('top') };\n}\n\nfunction getOBBCorners(token) {\n  if (!token) return null;\n  const centerX = token.get('left');\n  const centerY = token.get('top');\n  const width = token.get('width');\n  const height = token.get('height');\n  const rotationDeg = token.get('rotation') || 0;\n  const rotationRad = rotationDeg * (Math.PI / 180);\n\n  const halfW = width / 2;\n  const halfH = height / 2;\n\n  const localCorners = [\n    { x: -halfW, y: -halfH }, // TL\n    { x: halfW, y: -halfH },  // TR\n    { x: halfW, y: halfH },   // BR\n    { x: -halfW, y: halfH }   // BL\n  ];\n\n  const cosR = Math.cos(rotationRad);\n  const sinR = Math.sin(rotationRad);\n  return localCorners.map(c => ({\n    x: centerX + c.x * cosR - c.y * sinR,\n    y: centerY + c.x * sinR + c.y * cosR\n  }));\n}\n\nfunction isPointInOBB(point, corners) {\n  if (!point || !Array.isArray(corners) || corners.length !== 4) return false;\n  const c0 = corners[0];\n  const c1 = corners[1];\n  const c3 = corners[3];\n  const ABx = c1.x - c0.x;\n  const ABy = c1.y - c0.y;\n  const ADx = c3.x - c0.x;\n  const ADy = c3.y - c0.y;\n  const APx = point.x - c0.x;\n  const APy = point.y - c0.y;\n  const dotAB_AP = APx * ABx + APy * ABy;\n  const dotAD_AP = APx * ADx + APy * ADy;\n  const magSqAB = ABx * ABx + ABy * ABy;\n  const magSqAD = ADx * ADx + ADy * ADy;\n  return (0 <= dotAB_AP && dotAB_AP <= magSqAB && 0 <= dotAD_AP && dotAD_AP <= magSqAD);\n}\n\nfunction getPageSettings(pageId) {\n  const page = getObj ? getObj('page', pageId) : null;\n  if (!page) {\n    if (!State.warnedInvalidGridPages[pageId || 'unknown']) {\n      log(`Page ${pageId} not found, using defaults`, 'warning');\n      State.warnedInvalidGridPages[pageId || 'unknown'] = true;\n    }\n    return {\n      gridSize: Config.DEFAULT_GRID_SIZE,\n      scale: Config.DEFAULT_SCALE,\n      gridType: 'square',\n      valid: false\n    };\n  }\n  let gridSize = page.get('gridsize');\n  const snap = page.get('snapping_increment');\n  if (snap === 0 || !gridSize || gridSize < 2) {\n    gridSize = Config.DEFAULT_GRID_SIZE;\n  }\n  return {\n    gridSize,\n    scale: page.get('scale_number') || Config.DEFAULT_SCALE,\n    gridType: page.get('grid_type'),\n    valid: true\n  };\n}\n\nfunction getTokenGridCoords(token) {\n  if (!token) return null;\n  const ps = getPageSettings(token.get('_pageid'));\n  const g = ps.gridSize;\n  const left = token.get('left');\n  const top = token.get('top');\n  const w = token.get('width');\n  const h = token.get('height');\n  return {\n    x: Math.round((left - w / 2) / g),\n    y: Math.round((top - h / 2) / g),\n    width: Math.ceil(w / g),\n    height: Math.ceil(h / g),\n    gridSize: g,\n    scale: ps.scale,\n    gridType: ps.gridType,\n    pixelX: left,\n    pixelY: top,\n    tokenWidth: w,\n    tokenHeight: h\n  };\n}\n\nfunction calculateTokenDistance(token1, token2) {\n  if (!token1 || !token2 || token1.get('_pageid') !== token2.get('_pageid')) return { pixelDistance: Infinity, mapUnitDistance: Infinity };\n  const ps = getPageSettings(token1.get('_pageid'));\n  const c1 = getTokenGridCoords(token1);\n  const c2 = getTokenGridCoords(token2);\n  const dx = c1.pixelX - c2.pixelX;\n  const dy = c1.pixelY - c2.pixelY;\n  const pixelDistance = Math.sqrt(dx * dx + dy * dy);\n  const mapUnitDistance = (pixelDistance / ps.gridSize) * ps.scale;\n  return { pixelDistance, mapUnitDistance };\n}\n\nTrapUtils.geometry = {\n  lineIntersection,\n  getTokenCenter,\n  getOBBCorners,\n  isPointInOBB,\n  getPageSettings,\n  getTokenGridCoords,\n  calculateTokenDistance\n};\n\nfunction getSafeMacroDisplayName(macroString, maxLength = 25) {\n  if (!macroString || typeof macroString !== 'string') return '(DE)';\n  let display = macroString.trim();\n  // Macro\n  if (display.startsWith('#')) return `Macro: ${display.slice(1)}`;\n  // API command disguised with $ or true !\n  if (display.startsWith('$')) display = `Cmd: !${display.slice(1)}`;\n  else if (display.startsWith('!')) display = `Cmd: ${display}`;\n  // Template\n  else if (display.startsWith('&{')) {\n    const nameMatch = display.match(/\\{\\{name=([^}]+)\\}\\}/);\n    return nameMatch ? `Template: \"${nameMatch[1].trim()}\"` : 'Chat Template';\n  } else {\n    display = `Text: \"${display}\"`;\n  }\n  if (display.length > maxLength) return display.slice(0, maxLength - 3) + '...';\n  return display;\n}\n\nTrapUtils.getSafeMacroDisplayName = getSafeMacroDisplayName;","// src/trap-detector.js\n// Migration of movement-based detection helpers.\n\nimport TrapUtils from './trap-utils.js';\nimport { Config } from './trap-core.js';\n\n// Simple wrapper around legacy overlap check\nfunction checkGridOverlap(token1, token2) {\n  if (!token1 || !token2) return false;\n  const legacyUtils = globalThis.TrapSystem && globalThis.TrapSystem.utils;\n  if (legacyUtils && typeof legacyUtils.checkGridOverlap === 'function') {\n    return legacyUtils.checkGridOverlap(token1, token2);\n  }\n  // Fallback quick bounding-box overlap (approx)\n  const dx = Math.abs(token1.get('left') - token2.get('left'));\n  const dy = Math.abs(token1.get('top') - token2.get('top'));\n  const minDistX = (token1.get('width') + token2.get('width')) / 2;\n  const minDistY = (token1.get('height') + token2.get('height')) / 2;\n  return dx < minDistX && dy < minDistY;\n}\n\nfunction checkLineIntersection(startX, startY, endX, endY, trapToken) {\n  const legacyUtils = globalThis.TrapSystem && globalThis.TrapSystem.utils;\n  if (legacyUtils && typeof legacyUtils.checkLineIntersection === 'function') {\n    return legacyUtils.checkLineIntersection(startX, startY, endX, endY, trapToken);\n  }\n  return null; // simplified fallback\n}\n\nfunction calculateTrapPosition(movedToken, trapToken, intersectionPoint) {\n  const legacyUtils = globalThis.TrapSystem && globalThis.TrapSystem.utils;\n  if (legacyUtils && typeof legacyUtils.calculateTrapPosition === 'function') {\n    return legacyUtils.calculateTrapPosition(movedToken, trapToken, intersectionPoint);\n  }\n  return { initial: intersectionPoint, final: intersectionPoint };\n}\n\nexport const detector = {\n  checkGridOverlap,\n  checkLineIntersection,\n  calculateTrapPosition\n};\n\nexport default detector;","// Entry point that stitches the modular files together.\n// For now we export an empty scaffold TrapSystem with utilities.\n\nimport * as TrapUtils from './trap-utils.js';\nimport { Config, State } from './trap-core.js';\n\n// Placeholder imports â€“ these modules will gradually be filled out.\nimport './trap-core.js';\nimport './trap-detection.js';\nimport './trap-interaction.js';\nimport './trap-macros.js';\nimport './trap-ui.js';\nimport './trap-triggers.js';\nimport { detector } from './trap-detector.js';\n\nconst TrapSystem = {\n  utils: TrapUtils,\n  config: Config,\n  state: State,\n  // Namespaces to be wired up in later phases\n  core: { Config, State },\n  detection: detector,\n  interaction: {},\n  macros: {},\n  ui: {}\n};\n\n// Expose globally so Roll20 can see it after bundling.\nglobalThis.TrapSystem = TrapSystem;\n\nconsole.log('ğŸ“¦ TrapSystem v2 scaffold loaded');\nconsole.log('ğŸ”§ Config loaded:', Config.AURA_COLORS ? 'Complete' : 'Incomplete');\n\nexport { TrapSystem };"],"names":["TrapUtils"],"mappings":"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"}